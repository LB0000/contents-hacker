# CLAUDE.md
作成日: 2026-02-21

このリポジトリの目的は、
Product Hunt と Hacker News から話題ソースを取得し、候補30件に固定圧縮して、
関門（通過/不通過）と採点（0〜5×4）と上位3件のMVP計画を「1ページの画面表示だけ」で出すWebアプリを作ること。

## 絶対条件（MVP）
- 1ページのみ（Runボタンで実行、設定画面なし）
- 1回の実行で候補30件に固定
- 表示のみ（DB保存、Sheets/Notion出力、メール送信を実装しない）
- 初期ソースは Product Hunt と Hacker News の2つ
- X取得、スクレイピング、認証（ユーザーログイン/OAuth実装）、決済、cronは実装しない
- 言語は英語＋日本語（タイトルと短い説明を日本語に翻訳して併記）

## 実装方針（固定）
- Next.js App Router
- 取得・正規化・重複排除・関門判定・採点はサーバー側（Server Actions または Route Handler）
- 翻訳と判定はClaude API。入力は「短い抜粋のみ」を送ってトークンを抑える
- エラーは画面に分かりやすく表示（キー不足、取得失敗、LLMのJSON不正など）

## 変更の原則
- 仕様にない機能を足さない（特に永続化、ページ増、外部連携）
- 変更は小さく、動く状態を保って段階的に進める
- 返却データは型とスキーマで検証し、失敗時は落とさずUIに出す
